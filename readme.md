# 迷你抖音APP

## uml类图

<img src='./Main.png'/>

## 首页浏览

#### **滑动浏览封面**

进入gateWay后开启intentSevice拉取网上Feed并更新本地db。

进入MainActivity，替换为VideoFragment，其内部用fragment+viewpager。

#### 点击封面加载视频

采用mediaplayer+surfaceView进行视频加载，uri从本地db获取，加载过程放在一个ThreadPool里异步进行。增加了封面淡出效果。

## 上传者记录

#### **下滑浏览上传记录**

在本地的db有拉取上传记录，如果需要更新，可以点击右上角按钮，它用intentService拉取网上数据并且更新本地db

#### 点击进入上传者门户

点击进入每个上传者的门户，数据从db中拉取，通过recyclerView预览封面图片，点击图片观看视频。(可以以此人身份上传视频)

## 登录为上传者

输入个人姓名学号，再从db拉取所有一致的视频

## 视频上传

#### **使用** ***surfaceView+Camera***拍摄

选择本地相机进行拍摄，拍摄结果会存在本地相册

#### 选取视频并上传

先在本机选择封面和视频，再进行预览，最后上传到服务器，同时更新本地db







## 历史TODO:

​	作业要求pdf在根目录下

​	这个APP目前还没有被关联起来，各个包基本都是独立的，也是从以网代码拷贝而来的模板。

​	视图方面，应当实现 ```message.MessageFragment``` 和 ```showVideo.VideoPlayFragment```，在```MainActivity```中通过下方按钮替换这些Fragment。

​	然后```database```方面还没有建好，主要就是从网上拿下数据然后建成数据库，遍历数据库得到所有的```Message```(暂且这么称呼)，这个得到的```List```也为```VideoPlay```服务。

​	网络方面，基本和之前的网络读取差不多，```beans```和```network```拿现成的，改动预计不大，主要是应用。 

在beans或者其他地方，应该把网络的```Feed```封装成一个元素类```???```，然后给交给数据库管理，从数据库中请求数据也应该照这个封装好的元素类进行填充。

​	我想的基本上就是这样，有啥不可能实现的，或者有啥方便加上的创新点，到时候灵活修改就是了。





​	现在可以放视频了，但是有时有bug



​	增加了展示板的fragment，下方导航键切换



​	新增database功能，可以用where检索数据拉



​	播放视频前增加了封面，点击然后加载，加载完成后有0.5s的动画。这样保证视频不会太多。使用FragmentSatetePagerAdapter，然后每次最多是左中右三个页面。总之，加了封面以后，左右划页一般是不会把前面的盖到后面的。fit方法也删掉了。



​	增加个人门户主页，里面有个加号按钮，还没做



​	采用intentService做网络请求